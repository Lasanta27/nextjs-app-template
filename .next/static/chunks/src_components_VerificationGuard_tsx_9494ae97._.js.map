{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/VerificationGuard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter, usePathname } from \"next/navigation\";\n\nexport default function VerificationGuard({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [isVerified, setIsVerified] = useState<boolean | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const router = useRouter();\n  const pathname = usePathname();\n\n  useEffect(() => {\n    const checkVerification = () => {\n      const verified = localStorage.getItem(\"userVerified\") === \"true\";\n      setIsVerified(verified);\n      setIsLoading(false);\n\n      if (!verified && pathname !== \"/verify\") {\n        router.push(\"/verify\");\n      }\n    };\n\n    checkVerification();\n\n    window.addEventListener(\"storage\", checkVerification);\n    return () => window.removeEventListener(\"storage\", checkVerification);\n  }, [router, pathname]);\n\n  // Mientras se está cargando, no mostrar nada\n  if (isLoading) {\n    return null;\n  }\n\n  // Si estamos en la página de verificación, mostrar el contenido sin importar el estado\n  if (pathname === \"/verify\") {\n    return <>{children}</>;\n  }\n\n  // Si no está verificado, no mostrar nada (se redirigirá a /verify)\n  if (!isVerified) {\n    return null;\n  }\n\n  // Si está verificado, mostrar el contenido\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS,kBAAkB,EACxC,QAAQ,EAGT;;IACC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAkB;IAC7D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAE3B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,MAAM;iEAAoB;oBACxB,MAAM,WAAW,aAAa,OAAO,CAAC,oBAAoB;oBAC1D,cAAc;oBACd,aAAa;oBAEb,IAAI,CAAC,YAAY,aAAa,WAAW;wBACvC,OAAO,IAAI,CAAC;oBACd;gBACF;;YAEA;YAEA,OAAO,gBAAgB,CAAC,WAAW;YACnC;+CAAO,IAAM,OAAO,mBAAmB,CAAC,WAAW;;QACrD;sCAAG;QAAC;QAAQ;KAAS;IAErB,6CAA6C;IAC7C,IAAI,WAAW;QACb,OAAO;IACT;IAEA,uFAAuF;IACvF,IAAI,aAAa,WAAW;QAC1B,qBAAO;sBAAG;;IACZ;IAEA,mEAAmE;IACnE,IAAI,CAAC,YAAY;QACf,OAAO;IACT;IAEA,2CAA2C;IAC3C,qBAAO;kBAAG;;AACZ;GA5CwB;;QAOP,qIAAA,CAAA,YAAS;QACP,qIAAA,CAAA,cAAW;;;KARN","debugId":null}}]
}